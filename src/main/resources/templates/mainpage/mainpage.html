<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodiMate - 스마트 코디 추천</title>
    <link rel="stylesheet" th:href="@{/css/fix/header.css}">
    <link rel="stylesheet" th:href="@{/css/mainpage/mainpage.css}">
    <link rel="stylesheet" th:href="@{/css/fix/footer.css}">
</head>
<body>
<!-- 헤더 Include -->
<div th:replace="~{fix/header :: header}"></div>

<!-- 메인 배너 슬라이더 -->
<section class="main-banner">
    <div class="banner-slider" id="bannerSlider">
        <!-- 슬라이드 1: AI 색상 매칭 -->
        <div class="banner-slide slide1">
            <div class="robot-icon">🤖</div>
            <div class="banner-content">
                <h2>AI 색상 매칭</h2>
                <p>퍼스널 컬러에 맞는 완벽한 색상 조합을 찾아드려요</p>
                <button class="cta-button" onclick="startColorMatching()">색상 매칭 시작</button>
            </div>
        </div>

        <!-- 슬라이드 2: 날씨 기반 추천 -->
        <div class="banner-slide slide2">
            <div class="banner-content">
                <h2>날씨 기반 추천</h2>
                <p>오늘의 날씨에 딱 맞는 스타일링을 제안해드립니다</p>
                <button class="cta-button" onclick="getWeatherRecommendation()">날씨 코디 보기</button>
            </div>
        </div>

        <!-- 슬라이드 3: 나만의 옷장 -->
        <div class="banner-slide slide3">
            <div class="hanger-icon">👜</div>
            <div class="banner-content">
                <h2>나만의 옷장</h2>
                <p>보유한 의류를 등록하고 스마트하게 관리하세요</p>
                <button class="cta-button" onclick="manageCloset()">옷장 관리하기</button>
            </div>
        </div>

        <!-- 슬라이드 4: 코디 히스토리 -->
        <div class="banner-slide slide4">
            <div class="camera-icon">📸</div>
            <div class="banner-content">
                <h2>코디 히스토리</h2>
                <p>내가 입었던 코디들을 기록하고 만족도를 평가하세요</p>
                <button class="cta-button" onclick="viewHistory()">히스토리 보기</button>
            </div>
            <div class="star-ratings">
                <div class="rating-star">⭐</div>
                <div class="rating-star">⭐</div>
                <div class="rating-star">⭐</div>
                <div class="rating-star">⭐</div>
                <div class="rating-star">⭐</div>
            </div>
        </div>

        <!-- 슬라이드 5: 상황별 추천 -->
        <div class="banner-slide slide5">
            <div class="banner-content">
                <h2>상황별 추천</h2>
                <p>데이트, 비즈니스, 캐주얼 등 상황에 맞는 코디를 추천</p>
                <button class="cta-button" onclick="getSituationCoord()">상황별 코디</button>
            </div>
        </div>
    </div>

    <!-- 슬라이더 네비게이션 -->
    <button class="slider-nav prev" onclick="previousSlide()">‹</button>
    <button class="slider-nav next" onclick="nextSlide()">›</button>

    <!-- 슬라이더 인디케이터 -->
    <div class="slide-indicators">
        <span class="indicator active" onclick="goToSlide(0)"></span>
        <span class="indicator" onclick="goToSlide(1)"></span>
        <span class="indicator" onclick="goToSlide(2)"></span>
        <span class="indicator" onclick="goToSlide(3)"></span>
        <span class="indicator" onclick="goToSlide(4)"></span>
    </div>
</section>

<!-- 추천 코디 섹션 -->
<section class="recommendations">
    <h2 class="section-title">오늘의 추천 코디</h2>

    <!-- 필터 탭 -->
    <div class="filter-tabs">
        <div class="tab active" onclick="filterCoords('all')">전체</div>
        <div class="tab" onclick="filterCoords('casual')">캐주얼</div>
        <div class="tab" onclick="filterCoords('business')">비즈니스</div>
        <div class="tab" onclick="filterCoords('date')">데이트</div>
        <div class="tab" onclick="filterCoords('formal')">포멀</div>
    </div>

    <!-- 코디 그리드 (Thymeleaf로 동적 렌더링) -->
    <div class="coord-grid" id="coordGrid">
        <!-- th:each로 반복 렌더링 -->
        <div class="coord-item"
             th:each="coord : ${coords}"
             th:attr="data-category=${coord.category}">

            <!-- 코디 이미지 -->
            <div class="coord-image"
                 th:style="'background-image: url(' + ${coord.imagePath} + '); background-size: cover; background-position: center;'">
                <div class="coord-badge" th:text="${coord.id}">1</div>
                <div class="coord-overlay"></div>
            </div>

            <!-- 코디 정보 -->
            <div class="coord-info">
                <h3 class="coord-title" th:text="${coord.title}">코디 제목</h3>
                <p class="coord-desc" th:text="${coord.description}">코디 설명</p>
                <div class="rating">
                    <span class="stars">★★★★★</span>
                    <span class="rating-text" th:text="'만족도 ' + ${coord.rating}">만족도 4.8</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 푸터 Include -->
<div th:replace="~{fix/footer :: footer}"></div>

<!-- JavaScript 로드 -->
<script th:src="@{/js/mainpage/mainpage.js}"></script>
</body>
</html>